<script setup>
definePageMeta({
    layout: 'questions'
})
const { data } = useFetch('https://64566c612e41ccf1691ca819.mockapi.io/api/questions')
</script>
<template>
    <div class="p-5">
        <label for="search" class="relative flex items-center justify-start gap-4 rounded-full w-full bg-white shadow-sm">
            <svg  class="w-5 h-5 fill-light-gray absolute left-5 top-1/2 pointer-events-none" style="transform: translateY(-50%)" width="30" height="30" stroke-linejoin="round" stroke-miterlimit="2" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="m15.97 17.031c-1.479 1.238-3.384 1.985-5.461 1.985-4.697 0-8.509-3.812-8.509-8.508s3.812-8.508 8.509-8.508c4.695 0 8.508 3.812 8.508 8.508 0 2.078-.747 3.984-1.985 5.461l4.749 4.75c.146.146.219.338.219.531 0 .587-.537.75-.75.75-.192 0-.384-.073-.531-.22zm-5.461-13.53c-3.868 0-7.007 3.14-7.007 7.007s3.139 7.007 7.007 7.007c3.866 0 7.007-3.14 7.007-7.007s-3.141-7.007-7.007-7.007z"/></svg>
            <input id="search" class="p-4 pl-14 w-full rounded-full outline-none" type="search" placeholder="Taper votre question">
        </label>
    </div>
    <section class="flex flex-col gap-5 p-5 flex-1 overflow-auto snap-y">
        <NuxtLink :to="{ name: 'questions-id', params: { id: question.id } }" v-for="question in data" class="snap-start flex align-baseline justify-start gap-4 rounded-3xl bg-white shadow-sm p-4">
            <img class="w-10 h-10 rounded-full object-cover shadow-md" :src="question.avatar" alt="Photo de profil">
            <div class="flex gap-2 items-center w-full">
                <div class="w-full">
                    <div class="flex items-center justify-between">
                        <p class="text-base font-medium">{{ question.author }}</p>
                        <small class="text-light-gray font-semibold">{{ question.responses }} r√©ponses</small>
                    </div>
                    <p class="text-xs text-light-gray mt-1 mb-4">{{ question.job }}</p>
                    <p class="font-medium" v-html="question.content" />
                </div>
            </div>
        </NuxtLink>
    </section>
</template>
